import{_,d as h,as as v,at as C,ar as b,au as T,q as V,g as $,av as k,r as i,o as E,c as A,a as o,t as w,i as l,j as d,E as u,aw as D,n as j,m as B,p as F,k as S}from"./index.d60121cb.js";const z=h({components:{selectLang:v},setup(){const e=C(),s=b(),m=T(),a=V({name:"admin",password:"123456",loading:!1}),n=$("password"),c=()=>{n.value===""?n.value="password":n.value=""},p=()=>new Promise((t,y)=>{if(a.name===""){u.warning({message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}if(a.password===""){u.warning({message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",type:"warning"});return}t(!0)});return{systemTitle:k,form:a,passwordType:n,passwordTypeChange:c,submit:()=>{p().then(()=>{a.loading=!0;let t={name:a.name,password:a.password};e.dispatch("user/login",t).then(async()=>{u.success({message:"\u767B\u5F55\u6210\u529F",type:"success",showClose:!0,duration:1e3}),await D(),await s.push(m.query.redirect||"/")}).finally(()=>{a.loading=!1})})}}}}),f=e=>(F("data-v-55b923a2"),e=e(),S(),e),I={class:"container"},N={class:"box"},R=f(()=>o("i",{class:"sfont system-xingmingyonghumingnicheng"},null,-1)),q=f(()=>o("i",{class:"sfont system-mima"},null,-1)),U={class:"fixed-top-right"};function L(e,s,m,a,n,c){const p=i("el-input"),g=i("el-button"),t=i("el-form"),y=i("select-lang");return E(),A("div",I,[o("div",N,[o("h1",null,w(e.$t(e.systemTitle)),1),l(t,{class:"form"},{default:d(()=>[l(p,{size:"large",modelValue:e.form.name,"onUpdate:modelValue":s[0]||(s[0]=r=>e.form.name=r),placeholder:e.$t("message.system.userName"),type:"text",maxlength:"50"},{prepend:d(()=>[R]),_:1},8,["modelValue","placeholder"]),l(p,{size:"large",ref:"password",modelValue:e.form.password,"onUpdate:modelValue":s[2]||(s[2]=r=>e.form.password=r),type:e.passwordType,placeholder:e.$t("message.system.password"),name:"password",maxlength:"50"},{prepend:d(()=>[q]),append:d(()=>[o("i",{class:j(["sfont password-icon",e.passwordType?"system-yanjing-guan":"system-yanjing"]),onClick:s[1]||(s[1]=(...r)=>e.passwordTypeChange&&e.passwordTypeChange(...r))},null,2)]),_:1},8,["modelValue","type","placeholder"]),l(g,{type:"primary",loading:e.form.loading,onClick:e.submit,style:{width:"100%"},size:"medium"},{default:d(()=>[B(w(e.$t("message.system.login")),1)]),_:1},8,["loading","onClick"])]),_:1}),o("div",U,[l(y)])])])}var P=_(z,[["render",L],["__scopeId","data-v-55b923a2"]]);export{P as default};
